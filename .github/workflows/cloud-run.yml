- name: Set up Cloud SDK
  uses: google-github-actions/setup-gcloud@master
  with:
    project_id: ${{ secrets.GCP_PROJECT_ID }}
    service_account_key: ${{ secrets.GCP_SA_KEY }}
    export_default_credentials: true

- name: Use gcloud CLI
  run: gcloud info

- name: Deploy to Cloud Run
  id: deploy-to-cloud-run
  uses: google-github-actions/deploy-cloudrun@v0.3.0
  with:
    service: ttt
    image: gcr.io/vidhanio/ttt
  
- name: Use Output
  run: curl "${{ steps.deploy.outputs.url }}"